<div class="container-fluid">

    <h2>Registration Form</h2>
    <form [formGroup] = "registrationForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" formControlName = "userName" 
            [class.is-invalid]="userName?.invalid && userName?.touched" >

            <div *ngIf="userName?.invalid && userName?.touched">
                <small class="text-danger" *ngIf="userName?.errors?.required">Username is required</small>
                <small class="text-danger" *ngIf="userName?.errors?.minlength">Username at least 3 chars</small>
                <small class="text-danger" *ngIf="userName?.errors?.forbiddenName">{{ userName?.errors?.forbiddenName.value }} Username not allowed</small>
            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <button type="button" class="btn btn-secondary btn-sm m-2" (click)="addAlternamteEmail()" >Add Email</button>
            <input type="text" class="form-control" formControlName = "email">

            <div formArrayName = "alternateEmails" *ngFor="let email of alternateEmails.controls; let i = index">
                <input type="text" class="form-control my-1" [formControlName] = "i">
            </div>

        </div>

        <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" formControlName = "subscribe">
            <label class="form-check-label">
                Send me promotional offers
            </label>
        </div>


        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" formControlName = "password">
        </div>

        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" [class.is-invalid]="registrationForm.errors?.misMatch" class="form-control" formControlName = "confirmPassword">
            <small class="text-danger" *ngIf="registrationForm.errors?.misMatch">Password do not match</small>
        </div>

        <div formGroupName="address">

            <div class="form-group">
                <label>City</label>
                <input type="text" class="form-control" formControlName = "city" >
            </div>
    
            <div class="form-group">
                <label>State</label>
                <input type="text" class="form-control" formControlName = "state">
            </div>
    
            <div class="form-group">
                <label>Zip</label>
                <input type="text" class="form-control" formControlName = "zip">
            </div>

        </div>



        <div class="form-group">
            <label>{{ registrationForm.value | json }}</label>
        </div>

        <button class="btn btn-primary" type="submit">Register</button>
        <!-- <button class="btn btn-secondary ml-2" (click)="setValueData()" >Set Value Data</button>
        <button class="btn btn-secondary ml-2" (click)="patchValueData()" >Patch Value Data</button> -->

    </form>

    

</div>